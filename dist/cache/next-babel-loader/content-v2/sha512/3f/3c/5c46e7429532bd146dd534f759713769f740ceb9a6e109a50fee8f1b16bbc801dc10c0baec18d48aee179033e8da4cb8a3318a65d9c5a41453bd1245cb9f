{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport HttpService from '../Http.service';\n\nvar EventService = /*#__PURE__*/function () {\n  function EventService() {\n    _classCallCheck(this, EventService);\n  }\n\n  _createClass(EventService, null, [{\n    key: \"getSeatsInfo\",\n    value: function () {\n      var _getSeatsInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n        var resp, jsonResp;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/events/\").concat(id, \"/seats\"));\n\n              case 2:\n                resp = _context.sent;\n                _context.next = 5;\n                return resp.json();\n\n              case 5:\n                jsonResp = _context.sent;\n                return _context.abrupt(\"return\", jsonResp);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getSeatsInfo(_x) {\n        return _getSeatsInfo.apply(this, arguments);\n      }\n\n      return getSeatsInfo;\n    }()\n  }, {\n    key: \"register\",\n    value: function () {\n      var _register = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id, payload) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/events/\").concat(id, \"/register\"), payload);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function register(_x2, _x3) {\n        return _register.apply(this, arguments);\n      }\n\n      return register;\n    }()\n  }, {\n    key: \"addToWaitlist\",\n    value: function () {\n      var _addToWaitlist = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id, payload) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/events/\").concat(id, \"/waitlist\"), payload);\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function addToWaitlist(_x4, _x5) {\n        return _addToWaitlist.apply(this, arguments);\n      }\n\n      return addToWaitlist;\n    }()\n  }]);\n\n  return EventService;\n}();\n\nexport default EventService;","map":{"version":3,"sources":["C:/Users/didi/Desktop/frontend.ro/client/services/api/Event.service.ts"],"names":["HttpService","EventService","id","get","process","env","ENDPOINT","resp","json","jsonResp","payload","post"],"mappings":";;;;AAAA,OAAOA,WAAP,MAAwB,iBAAxB;;IAcMC,Y;;;;;;;;oGACsBC,E;;;;;;;uBACLF,WAAW,CAACG,GAAZ,WAAmBC,OAAO,CAACC,GAAR,CAAYC,QAA/B,qBAAkDJ,EAAlD,Y;;;AAAbK,gBAAAA,I;;uBACiBA,IAAI,CAACC,IAAL,E;;;AAAjBC,gBAAAA,Q;iDAECA,Q;;;;;;;;;;;;;;;;;;;iGAGaP,E,EAAIQ,O;;;;;;uBAClBV,WAAW,CAACW,IAAZ,WAAoBP,OAAO,CAACC,GAAR,CAAYC,QAAhC,qBAAmDJ,EAAnD,gBAAkEQ,OAAlE,C;;;;;;;;;;;;;;;;;;;sGAGmBR,E,EAAIQ,O;;;;;;uBACvBV,WAAW,CAACW,IAAZ,WAAoBP,OAAO,CAACC,GAAR,CAAYC,QAAhC,qBAAmDJ,EAAnD,gBAAkEQ,OAAlE,C;;;;;;;;;;;;;;;;;;;;;AAGV,eAAeT,YAAf","sourcesContent":["import HttpService from '../Http.service';\r\n\r\ninterface RegisterToEventPayload {\r\n  name: string;\r\n  tel: string;\r\n  email: string;\r\n}\r\n\r\ninterface SeatsInfo {\r\n  id: string;\r\n  free: number;\r\n  total: number;\r\n}\r\n\r\nclass EventService {\r\n  static async getSeatsInfo(id: string): Promise<SeatsInfo> {\r\n    const resp = await HttpService.get(`${process.env.ENDPOINT}/events/${id}/seats`);\r\n    const jsonResp = await resp.json();\r\n\r\n    return jsonResp;\r\n  }\r\n\r\n  static async register(id, payload: RegisterToEventPayload): Promise<void> {\r\n    await HttpService.post(`${process.env.ENDPOINT}/events/${id}/register`, payload);\r\n  }\r\n\r\n  static async addToWaitlist(id, payload: RegisterToEventPayload): Promise<void> {\r\n    await HttpService.post(`${process.env.ENDPOINT}/events/${id}/waitlist`, payload);\r\n  }\r\n}\r\nexport default EventService;\r\n"]},"metadata":{},"sourceType":"module"}