{"ast":null,"code":"import HttpService from './Http.service';\n\nclass ExerciseService {\n  static uploadMedia(name, file) {\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('file', file);\n    return HttpService.post(`${process.env.ENDPOINT}/exercises/media`, formData).then(resp => resp.json());\n  }\n\n  static createExercise(payload) {\n    return HttpService.post(`${process.env.ENDPOINT}/exercises`, payload).then(resp => resp.json());\n  }\n\n  static updateExercise(id, payload) {\n    return HttpService.put(`${process.env.ENDPOINT}/exercises/${id}`, payload).then(resp => resp.json());\n  }\n\n  static markFeedbackAsDone(feedbackId) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, 1000);\n    });\n  }\n\n  static getSubmissions(page = 0, query = '') {\n    return HttpService.get(`${process.env.ENDPOINT}/exercises/submissions?page=${page}&query=${query}`).then(response => response.json());\n  }\n\n  static getExercises(username) {\n    return HttpService.get(`${process.env.ENDPOINT}/exercises`).then(response => response.json());\n  }\n\n  static getPublicExercises(username) {\n    return HttpService.get(`${process.env.ENDPOINT}/exercises/public/${username}`).then(response => response.json());\n  }\n\n  static delete(id) {\n    return HttpService.delete(`${process.env.ENDPOINT}/exercises/${id}`);\n  }\n\n}\n\nexport default ExerciseService;","map":{"version":3,"sources":["C:/Users/didi/Desktop/frontend.ro/client/services/Exercise.service.ts"],"names":["HttpService","ExerciseService","uploadMedia","name","file","formData","FormData","append","post","process","env","ENDPOINT","then","resp","json","createExercise","payload","updateExercise","id","put","markFeedbackAsDone","feedbackId","Promise","resolve","reject","setTimeout","getSubmissions","page","query","get","response","getExercises","username","getPublicExercises","delete"],"mappings":"AACA,OAAOA,WAAP,MAAwB,gBAAxB;;AAWA,MAAMC,eAAN,CAAsB;AACpB,SAAOC,WAAP,CAAmBC,IAAnB,EAAiCC,IAAjC,EAA2D;AACzD,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;AACAE,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAxB;AAEA,WAAOJ,WAAW,CACfQ,IADI,CACE,GAAEC,OAAO,CAACC,GAAR,CAAYC,QAAS,kBADzB,EAC4CN,QAD5C,EAEJO,IAFI,CAEEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAFX,CAAP;AAGD;;AAED,SAAOC,cAAP,CAAsBC,OAAtB,EAAiE;AAC/D,WAAOhB,WAAW,CACfQ,IADI,CACE,GAAEC,OAAO,CAACC,GAAR,CAAYC,QAAS,YADzB,EACsCK,OADtC,EAEJJ,IAFI,CAEEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAFX,CAAP;AAGD;;AAED,SAAOG,cAAP,CAAsBC,EAAtB,EAAkCF,OAAlC,EAA6E;AAC3E,WAAOhB,WAAW,CACfmB,GADI,CACC,GAAEV,OAAO,CAACC,GAAR,CAAYC,QAAS,cAAaO,EAAG,EADxC,EAC2CF,OAD3C,EAEJJ,IAFI,CAEEC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAFX,CAAP;AAGD;;AAED,SAAOM,kBAAP,CAA0BC,UAA1B,EAA8C;AAC5C,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,MAAAA,UAAU,CAACF,OAAD,EAAU,IAAV,CAAV;AACD,KAFM,CAAP;AAGD;;AAED,SAAOG,cAAP,CAAsBC,IAAI,GAAG,CAA7B,EAAgCC,KAAK,GAAG,EAAxC,EAAoE;AAClE,WAAO5B,WAAW,CAAC6B,GAAZ,CAAiB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,QAAS,+BAA8BgB,IAAK,UAASC,KAAM,EAA1F,EACJhB,IADI,CACEkB,QAAD,IAAcA,QAAQ,CAAChB,IAAT,EADf,CAAP;AAED;;AAED,SAAOiB,YAAP,CAAoBC,QAApB,EAAsC;AACpC,WAAOhC,WAAW,CAAC6B,GAAZ,CAAiB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,QAAS,YAAxC,EACJC,IADI,CACEkB,QAAD,IAAcA,QAAQ,CAAChB,IAAT,EADf,CAAP;AAED;;AAED,SAAOmB,kBAAP,CAA0BD,QAA1B,EAA4C;AAC1C,WAAOhC,WAAW,CAAC6B,GAAZ,CAAiB,GAAEpB,OAAO,CAACC,GAAR,CAAYC,QAAS,qBAAoBqB,QAAS,EAArE,EACJpB,IADI,CACEkB,QAAD,IAAcA,QAAQ,CAAChB,IAAT,EADf,CAAP;AAED;;AAED,SAAOoB,MAAP,CAAchB,EAAd,EAA0B;AACxB,WAAOlB,WAAW,CAACkC,MAAZ,CAAoB,GAAEzB,OAAO,CAACC,GAAR,CAAYC,QAAS,cAAaO,EAAG,EAA3D,CAAP;AACD;;AA9CmB;;AAgDtB,eAAejB,eAAf","sourcesContent":["import { Submission } from '~/redux/exercise-submissions/types';\r\nimport HttpService from './Http.service';\r\n\r\ninterface NewExercisePayload {\r\n  body: string;\r\n  private: boolean;\r\n  type: string;\r\n  solution: string;\r\n  example?: string;\r\n  suggestion?: string;\r\n}\r\n\r\nclass ExerciseService {\r\n  static uploadMedia(name: string, file: File): Promise<any> {\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('file', file);\r\n\r\n    return HttpService\r\n      .post(`${process.env.ENDPOINT}/exercises/media`, formData)\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static createExercise(payload: NewExercisePayload): Promise<any> {\r\n    return HttpService\r\n      .post(`${process.env.ENDPOINT}/exercises`, payload)\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static updateExercise(id: string, payload: NewExercisePayload): Promise<any> {\r\n    return HttpService\r\n      .put(`${process.env.ENDPOINT}/exercises/${id}`, payload)\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static markFeedbackAsDone(feedbackId: string) {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(resolve, 1000);\r\n    });\r\n  }\r\n\r\n  static getSubmissions(page = 0, query = '') : Promise<Submission[]> {\r\n    return HttpService.get(`${process.env.ENDPOINT}/exercises/submissions?page=${page}&query=${query}`)\r\n      .then((response) => response.json()) as unknown as Promise<Submission[]>;\r\n  }\r\n\r\n  static getExercises(username: string) {\r\n    return HttpService.get(`${process.env.ENDPOINT}/exercises`)\r\n      .then((response) => response.json());\r\n  }\r\n\r\n  static getPublicExercises(username: string) {\r\n    return HttpService.get(`${process.env.ENDPOINT}/exercises/public/${username}`)\r\n      .then((response) => response.json());\r\n  }\r\n\r\n  static delete(id: string) {\r\n    return HttpService.delete(`${process.env.ENDPOINT}/exercises/${id}`);\r\n  }\r\n}\r\nexport default ExerciseService;\r\n"]},"metadata":{},"sourceType":"module"}