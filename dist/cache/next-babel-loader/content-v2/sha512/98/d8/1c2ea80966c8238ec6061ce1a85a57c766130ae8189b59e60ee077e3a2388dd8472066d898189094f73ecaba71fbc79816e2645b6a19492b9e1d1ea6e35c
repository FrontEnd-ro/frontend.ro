{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\didi\\\\Desktop\\\\frontend.ro\\\\client\\\\components\\\\user-profile\\\\UserActivity\\\\UserActivity.tsx\";\nvar __jsx = React.createElement;\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Link from 'next/link';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport ExercisePreview from '~/components/ExercisePreview';\nimport PageContainer from '~/components/PageContainer';\nimport ExerciseService from '~/services/Exercise.service';\nimport NoActivity from '../NoActivity/NoActivity';\nimport styles from './UserActivity.module.scss';\n\nfunction UserActivity({\n  profileUser,\n  currentUser\n}) {\n  const isOwnProfile = currentUser.info && currentUser.info.username === profileUser.username;\n  const {\n    0: exercises,\n    1: setExercises\n  } = useState(undefined);\n  useEffect(() => {\n    const exercisesPromise = isOwnProfile ? ExerciseService.getExercises(profileUser.username) : ExerciseService.getPublicExercises(profileUser.username);\n    exercisesPromise.then(resp => {\n      setExercises(resp);\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n\n  if (!exercises) {\n    // Loading\n    return null;\n  }\n\n  if (exercises.length === 0 && !isOwnProfile) {\n    return __jsx(NoActivity, {\n      user: profileUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \" Exerci\\u021Bii \"), __jsx(\"div\", {\n    className: styles['exercises-wrapper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, exercises.map((ex, index) => __jsx(ExercisePreview, {\n    key: ex._id,\n    href: `exercitii/${ex._id}`,\n    author: profileUser,\n    body: ex.body,\n    isPrivate: ex.private,\n    tags: [ex.type.toUpperCase()],\n    viewMode: isOwnProfile ? 'TEACHER' : 'STUDENT',\n    feedbackCount: 0,\n    isApproved: false,\n    readOnly: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), isOwnProfile && __jsx(Link, {\n    href: \"/exercitii/creeaza\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: \"d-flex align-items-center justify-content-center no-underline text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faPlus,\n    width: \"32\",\n    height: \"32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \" Creeaz\\u0103 un nou exerci\\u021Biu \")))));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.user\n  };\n}\n\nconst connector = connect(mapStateToProps);\nexport default connector(UserActivity);","map":{"version":3,"sources":["C:/Users/didi/Desktop/frontend.ro/client/components/user-profile/UserActivity/UserActivity.tsx"],"names":["faPlus","FontAwesomeIcon","Link","React","useEffect","useState","connect","ExercisePreview","PageContainer","ExerciseService","NoActivity","styles","UserActivity","profileUser","currentUser","isOwnProfile","info","username","exercises","setExercises","undefined","exercisesPromise","getExercises","getPublicExercises","then","resp","catch","err","console","error","length","map","ex","index","_id","body","private","type","toUpperCase","mapStateToProps","state","user","connector"],"mappings":"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","sourcesContent":["import { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Link from 'next/link';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { connect, ConnectedProps } from 'react-redux';\r\nimport ExercisePreview from '~/components/ExercisePreview';\r\nimport PageContainer from '~/components/PageContainer';\r\nimport { RootState } from '~/redux/root.reducer';\r\nimport { UserState } from '~/redux/user/types';\r\nimport ExerciseService from '~/services/Exercise.service';\r\nimport NoActivity from '../NoActivity/NoActivity';\r\n\r\nimport styles from './UserActivity.module.scss';\r\n\r\ninterface Props {\r\n  profileUser: UserState['info']\r\n}\r\n\r\nfunction UserActivity({ profileUser, currentUser }: ConnectedProps<typeof connector> & Props) {\r\n  const isOwnProfile = currentUser.info && currentUser.info.username === profileUser.username;\r\n  const [exercises, setExercises] = useState(undefined);\r\n  useEffect(() => {\r\n    const exercisesPromise = isOwnProfile\r\n      ? ExerciseService.getExercises(profileUser.username)\r\n      : ExerciseService.getPublicExercises(profileUser.username);\r\n\r\n    exercisesPromise.then((resp) => {\r\n      setExercises(resp);\r\n    }).catch((err) => {\r\n      console.error(err);\r\n    });\r\n  }, []);\r\n\r\n  if (!exercises) {\r\n    // Loading\r\n    return null;\r\n  }\r\n\r\n  if (exercises.length === 0 && !isOwnProfile) {\r\n    return <NoActivity user={profileUser} />;\r\n  }\r\n\r\n  return (\r\n    <PageContainer>\r\n      <h2> Exerciții </h2>\r\n      <div className={styles['exercises-wrapper']}>\r\n        {exercises.map((ex, index) => (\r\n          <ExercisePreview\r\n            key={ex._id}\r\n            href={`exercitii/${ex._id}`}\r\n            author={profileUser}\r\n            body={ex.body}\r\n            isPrivate={ex.private}\r\n            tags={[ex.type.toUpperCase()]}\r\n            viewMode={isOwnProfile ? 'TEACHER' : 'STUDENT'}\r\n            feedbackCount={0}\r\n            isApproved={false}\r\n            readOnly={false}\r\n          />\r\n        ))}\r\n        {isOwnProfile && (\r\n        <Link href=\"/exercitii/creeaza\">\r\n          <a className=\"d-flex align-items-center justify-content-center no-underline text-center\">\r\n            <FontAwesomeIcon icon={faPlus} width=\"32\" height=\"32\" />\r\n            <span> Creează un nou exercițiu </span>\r\n          </a>\r\n        </Link>\r\n        )}\r\n\r\n      </div>\r\n    </PageContainer>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state: RootState) {\r\n  return {\r\n    currentUser: state.user,\r\n  };\r\n}\r\n\r\nconst connector = connect(mapStateToProps);\r\n\r\nexport default connector(UserActivity);\r\n"]},"metadata":{},"sourceType":"module"}