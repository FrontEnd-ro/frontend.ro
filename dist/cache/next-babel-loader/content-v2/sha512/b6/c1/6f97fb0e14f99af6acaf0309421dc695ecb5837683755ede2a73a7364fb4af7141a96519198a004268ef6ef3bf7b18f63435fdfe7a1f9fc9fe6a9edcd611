{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\didi\\\\Desktop\\\\frontend.ro\\\\client\\\\components\\\\Form\\\\Form.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport noop from 'lodash/noop';\nimport styles from './Form.module.scss';\nexport default function Form(_ref) {\n  let {\n    onSubmit,\n    withStyles = true,\n    onInput = noop,\n    className = '',\n    autoComplete = 'on',\n    children\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"onSubmit\", \"withStyles\", \"onInput\", \"className\", \"autoComplete\", \"children\"]);\n\n  const submit = e => {\n    e.persist();\n    e.preventDefault();\n\n    if (e.target.checkValidity()) {\n      let data = {};\n      let elements = [];\n\n      try {\n        elements = [...e.target.elements];\n      } catch (err) {\n        // MSEdge fix\n        for (let i = 0; i < e.target.elements.length; i += 1) {\n          elements.push(e.target.elements[i]);\n        }\n      }\n\n      elements.filter(el => el.name).forEach(el => {\n        if (el.hasOwnProperty('checked')) {\n          if (el.type === 'checkbox') {\n            data[el.name] = el.checked;\n          }\n\n          if (el.type === 'radio' && el.checked) {\n            data[el.name] = el.value;\n          }\n        } else {\n          data[el.name] = el.value;\n        }\n      });\n      let submitResult = onSubmit(data);\n\n      if (submitResult instanceof Promise) {\n        submitResult.then(shouldReset => {\n          if (shouldReset) {\n            e.target.reset();\n          }\n        });\n      }\n    }\n  };\n\n  return __jsx(\"form\", _extends({\n    className: withStyles ? `${styles.form} ${className}` : className,\n    spellCheck: \"false\",\n    onSubmit: submit,\n    onInput: onInput,\n    autoComplete: autoComplete\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }), children);\n}","map":{"version":3,"sources":["C:/Users/didi/Desktop/frontend.ro/client/components/Form/Form.tsx"],"names":["React","noop","styles","Form","onSubmit","withStyles","onInput","className","autoComplete","children","rest","submit","e","persist","preventDefault","target","checkValidity","data","elements","err","i","length","push","filter","el","name","forEach","hasOwnProperty","type","checked","value","submitResult","Promise","then","shouldReset","reset","form"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAA6D,OAA7D;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AAUA,eAAe,SAASC,IAAT,OAQc;AAAA,MARA;AAC3BC,IAAAA,QAD2B;AAE3BC,IAAAA,UAAU,GAAG,IAFc;AAG3BC,IAAAA,OAAO,GAAGL,IAHiB;AAI3BM,IAAAA,SAAS,GAAG,EAJe;AAK3BC,IAAAA,YAAY,GAAG,IALY;AAM3BC,IAAAA;AAN2B,GAQA;AAAA,MADxBC,IACwB;;AAC3B,QAAMC,MAAM,GAAIC,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,OAAF;AACAD,IAAAA,CAAC,CAACE,cAAF;;AAEA,QAAIF,CAAC,CAACG,MAAF,CAASC,aAAT,EAAJ,EAA8B;AAC5B,UAAIC,IAAI,GAAG,EAAX;AACA,UAAIC,QAAQ,GAAG,EAAf;;AAEA,UAAI;AACFA,QAAAA,QAAQ,GAAG,CAAC,GAAGN,CAAC,CAACG,MAAF,CAASG,QAAb,CAAX;AACD,OAFD,CAEE,OAAOC,GAAP,EAAY;AACZ;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,CAAC,CAACG,MAAF,CAASG,QAAT,CAAkBG,MAAtC,EAA8CD,CAAC,IAAI,CAAnD,EAAsD;AACpDF,UAAAA,QAAQ,CAACI,IAAT,CAAcV,CAAC,CAACG,MAAF,CAASG,QAAT,CAAkBE,CAAlB,CAAd;AACD;AACF;;AAEDF,MAAAA,QAAQ,CACLK,MADH,CACWC,EAAD,IAAQA,EAAE,CAACC,IADrB,EAEGC,OAFH,CAEYF,EAAD,IAAQ;AACf,YAAIA,EAAE,CAACG,cAAH,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,cAAIH,EAAE,CAACI,IAAH,KAAY,UAAhB,EAA4B;AAC1BX,YAAAA,IAAI,CAACO,EAAE,CAACC,IAAJ,CAAJ,GAAgBD,EAAE,CAACK,OAAnB;AACD;;AACD,cAAIL,EAAE,CAACI,IAAH,KAAY,OAAZ,IAAuBJ,EAAE,CAACK,OAA9B,EAAuC;AACrCZ,YAAAA,IAAI,CAACO,EAAE,CAACC,IAAJ,CAAJ,GAAgBD,EAAE,CAACM,KAAnB;AACD;AACF,SAPD,MAOO;AACLb,UAAAA,IAAI,CAACO,EAAE,CAACC,IAAJ,CAAJ,GAAgBD,EAAE,CAACM,KAAnB;AACD;AACF,OAbH;AAeA,UAAIC,YAAY,GAAG3B,QAAQ,CAACa,IAAD,CAA3B;;AACA,UAAIc,YAAY,YAAYC,OAA5B,EAAqC;AACnCD,QAAAA,YAAY,CAACE,IAAb,CAAmBC,WAAD,IAAiB;AACjC,cAAIA,WAAJ,EAAiB;AACftB,YAAAA,CAAC,CAACG,MAAF,CAASoB,KAAT;AACD;AACF,SAJD;AAKD;AACF;AACF,GAzCD;;AA2CA,SACE;AACE,IAAA,SAAS,EAAE9B,UAAU,GAAI,GAAEH,MAAM,CAACkC,IAAK,IAAG7B,SAAU,EAA/B,GAAmCA,SAD1D;AAEE,IAAA,UAAU,EAAC,OAFb;AAGE,IAAA,QAAQ,EAAEI,MAHZ;AAIE,IAAA,OAAO,EAAEL,OAJX;AAKE,IAAA,YAAY,EAAEE;AALhB,KAMME,IANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQGD,QARH,CADF;AAYD","sourcesContent":["import React, { FormHTMLAttributes, PropsWithChildren } from 'react';\r\nimport noop from 'lodash/noop';\r\n\r\nimport styles from './Form.module.scss';\r\n\r\ninterface Props extends FormHTMLAttributes<HTMLFormElement> {\r\n  onSubmit: (data: any) => void | Promise<boolean>;\r\n\r\n  withStyles?: boolean;\r\n  className?: string;\r\n  autoComplete?: string;\r\n}\r\n\r\nexport default function Form({\r\n  onSubmit,\r\n  withStyles = true,\r\n  onInput = noop,\r\n  className = '',\r\n  autoComplete = 'on',\r\n  children,\r\n  ...rest\r\n}: PropsWithChildren<Props>) {\r\n  const submit = (e) => {\r\n    e.persist();\r\n    e.preventDefault();\r\n\r\n    if (e.target.checkValidity()) {\r\n      let data = {};\r\n      let elements = [];\r\n\r\n      try {\r\n        elements = [...e.target.elements];\r\n      } catch (err) {\r\n        // MSEdge fix\r\n        for (let i = 0; i < e.target.elements.length; i += 1) {\r\n          elements.push(e.target.elements[i]);\r\n        }\r\n      }\r\n\r\n      elements\r\n        .filter((el) => el.name)\r\n        .forEach((el) => {\r\n          if (el.hasOwnProperty('checked')) {\r\n            if (el.type === 'checkbox') {\r\n              data[el.name] = el.checked;\r\n            }\r\n            if (el.type === 'radio' && el.checked) {\r\n              data[el.name] = el.value;\r\n            }\r\n          } else {\r\n            data[el.name] = el.value;\r\n          }\r\n        });\r\n\r\n      let submitResult = onSubmit(data);\r\n      if (submitResult instanceof Promise) {\r\n        submitResult.then((shouldReset) => {\r\n          if (shouldReset) {\r\n            e.target.reset();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className={withStyles ? `${styles.form} ${className}` : className}\r\n      spellCheck=\"false\"\r\n      onSubmit={submit}\r\n      onInput={onInput}\r\n      autoComplete={autoComplete}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </form>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}