{"ast":null,"code":"import _classCallCheck from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/didi/Desktop/frontend.ro/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport HttpService from './Http.service';\n\nvar SubmissionService = /*#__PURE__*/function () {\n  function SubmissionService() {\n    _classCallCheck(this, SubmissionService);\n  }\n\n  _createClass(SubmissionService, null, [{\n    key: \"searchSubmissions\",\n    value: function searchSubmissions() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/submissions?page=\").concat(page, \"&query=\").concat(query)).then(function (response) {\n        return response.json();\n      });\n    }\n  }, {\n    key: \"getOwnSubmission\",\n    value: function getOwnSubmission(exerciseId) {\n      return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/submissions/exercise/\").concat(exerciseId)).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"getUserSubmission\",\n    value: function getUserSubmission(username, exerciseId) {\n      return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/submissions/\").concat(username, \"/\").concat(exerciseId)).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"submitSubmission\",\n    value: function submitSubmission(exerciseId, code) {\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/submissions/exercise/\").concat(exerciseId), {\n        code: code\n      }).then(function (resp) {\n        return resp.json();\n      });\n    } // payload is an object with a Submission props\n\n  }, {\n    key: \"updateSubmission\",\n    value: function updateSubmission(submissionId, payload) {\n      return HttpService.put(\"\".concat(process.env.ENDPOINT, \"/submissions/\").concat(submissionId), {\n        payload: payload\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"approveSubmission\",\n    value: function approveSubmission(submissionId, feedbacks) {\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/submissions/\").concat(submissionId, \"/approve\"), {\n        feedbacks: feedbacks\n      });\n    }\n  }, {\n    key: \"sendFeedback\",\n    value: function sendFeedback(submissionId, feedbacks) {\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/submissions/\").concat(submissionId, \"/feedback\"), {\n        feedbacks: feedbacks\n      });\n    }\n  }, {\n    key: \"markFeedbackAsDone\",\n    value: function markFeedbackAsDone(feedbackId) {\n      return HttpService[\"delete\"](\"\".concat(process.env.ENDPOINT, \"/submissions/feedback/\").concat(feedbackId));\n    }\n  }]);\n\n  return SubmissionService;\n}();\n\nexport default SubmissionService;","map":{"version":3,"sources":["C:/Users/didi/Desktop/frontend.ro/client/services/Submission.service.ts"],"names":["HttpService","SubmissionService","page","query","get","process","env","ENDPOINT","then","response","json","exerciseId","resp","username","code","post","submissionId","payload","put","feedbacks","feedbackId"],"mappings":";;AAAA,OAAOA,WAAP,MAAwB,gBAAxB;;IAGMC,iB;;;;;;;wCAC2C;AAAA,UAAtBC,IAAsB,uEAAf,CAAe;AAAA,UAAZC,KAAY,uEAAJ,EAAI;AAC7C,aAAOH,WAAW,CAACI,GAAZ,WAAmBC,OAAO,CAACC,GAAR,CAAYC,QAA/B,+BAA4DL,IAA5D,oBAA0EC,KAA1E,GACJK,IADI,CACC,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OADD,CAAP;AAED;;;qCAEuBC,U,EAAoB;AAC1C,aAAOX,WAAW,CACfI,GADI,WACGC,OAAO,CAACC,GAAR,CAAYC,QADf,mCACgDI,UADhD,GAEJH,IAFI,CAEC,UAACI,IAAD;AAAA,eAAUA,IAAI,CAACF,IAAL,EAAV;AAAA,OAFD,CAAP;AAGD;;;sCAEwBG,Q,EAAkBF,U,EAAoB;AAC7D,aAAOX,WAAW,CACfI,GADI,WACGC,OAAO,CAACC,GAAR,CAAYC,QADf,0BACuCM,QADvC,cACmDF,UADnD,GAEJH,IAFI,CAEC,UAACI,IAAD;AAAA,eAAUA,IAAI,CAACF,IAAL,EAAV;AAAA,OAFD,CAAP;AAGD;;;qCAEuBC,U,EAAoBG,I,EAAc;AACxD,aAAOd,WAAW,CACfe,IADI,WACIV,OAAO,CAACC,GAAR,CAAYC,QADhB,mCACiDI,UADjD,GAC+D;AAAEG,QAAAA,IAAI,EAAJA;AAAF,OAD/D,EAEJN,IAFI,CAEC,UAACI,IAAD;AAAA,eAAUA,IAAI,CAACF,IAAL,EAAV;AAAA,OAFD,CAAP;AAGD,K,CAED;;;;qCACwBM,Y,EAAsBC,O,EAAc;AAC1D,aAAOjB,WAAW,CACfkB,GADI,WACGb,OAAO,CAACC,GAAR,CAAYC,QADf,0BACuCS,YADvC,GACuD;AAC1DC,QAAAA,OAAO,EAAPA;AAD0D,OADvD,EAIJT,IAJI,CAIC,UAACI,IAAD;AAAA,eAAUA,IAAI,CAACF,IAAL,EAAV;AAAA,OAJD,CAAP;AAKD;;;sCAEwBM,Y,EAAsBG,S,EAAkB;AAC/D,aAAOnB,WAAW,CACfe,IADI,WACIV,OAAO,CAACC,GAAR,CAAYC,QADhB,0BACwCS,YADxC,eACgE;AACnEG,QAAAA,SAAS,EAATA;AADmE,OADhE,CAAP;AAID;;;iCAEmBH,Y,EAAsBG,S,EAAkB;AAC1D,aAAOnB,WAAW,CACfe,IADI,WACIV,OAAO,CAACC,GAAR,CAAYC,QADhB,0BACwCS,YADxC,gBACiE;AACpEG,QAAAA,SAAS,EAATA;AADoE,OADjE,CAAP;AAID;;;uCAEyBC,U,EAAoB;AAC5C,aAAOpB,WAAW,UAAX,WACMK,OAAO,CAACC,GAAR,CAAYC,QADlB,mCACmDa,UADnD,EAAP;AAED;;;;;;AAGH,eAAenB,iBAAf","sourcesContent":["import HttpService from './Http.service';\r\nimport { Submission } from '~/redux/exercise-submissions/types';\r\n\r\nclass SubmissionService {\r\n  static searchSubmissions(page = 0, query = '') {\r\n    return HttpService.get(`${process.env.ENDPOINT}/submissions?page=${page}&query=${query}`)\r\n      .then((response) => response.json()) as unknown as Promise<Submission[]>;\r\n  }\r\n\r\n  static getOwnSubmission(exerciseId: string) {\r\n    return HttpService\r\n      .get(`${process.env.ENDPOINT}/submissions/exercise/${exerciseId}`)\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static getUserSubmission(username: string, exerciseId: string) {\r\n    return HttpService\r\n      .get(`${process.env.ENDPOINT}/submissions/${username}/${exerciseId}`)\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static submitSubmission(exerciseId: string, code: string) {\r\n    return HttpService\r\n      .post(`${process.env.ENDPOINT}/submissions/exercise/${exerciseId}`, { code })\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  // payload is an object with a Submission props\r\n  static updateSubmission(submissionId: string, payload: any) {\r\n    return HttpService\r\n      .put(`${process.env.ENDPOINT}/submissions/${submissionId}`, {\r\n        payload,\r\n      })\r\n      .then((resp) => resp.json());\r\n  }\r\n\r\n  static approveSubmission(submissionId: string, feedbacks: any[]) {\r\n    return HttpService\r\n      .post(`${process.env.ENDPOINT}/submissions/${submissionId}/approve`, {\r\n        feedbacks,\r\n      });\r\n  }\r\n\r\n  static sendFeedback(submissionId: string, feedbacks: any[]) {\r\n    return HttpService\r\n      .post(`${process.env.ENDPOINT}/submissions/${submissionId}/feedback`, {\r\n        feedbacks,\r\n      });\r\n  }\r\n\r\n  static markFeedbackAsDone(feedbackId: string) {\r\n    return HttpService\r\n      .delete(`${process.env.ENDPOINT}/submissions/feedback/${feedbackId}`);\r\n  }\r\n}\r\n\r\nexport default SubmissionService;\r\n"]},"metadata":{},"sourceType":"module"}