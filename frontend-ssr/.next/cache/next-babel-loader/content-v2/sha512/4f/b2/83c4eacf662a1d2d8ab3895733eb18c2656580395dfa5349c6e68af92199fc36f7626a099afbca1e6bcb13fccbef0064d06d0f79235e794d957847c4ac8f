{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport styles from './SweetAlert.module.scss';\nvar Toast = null;\n\nvar SweetAlertService = /*#__PURE__*/function () {\n  function SweetAlertService() {\n    _classCallCheck(this, SweetAlertService);\n  }\n\n  _createClass(SweetAlertService, null, [{\n    key: \"toast\",\n    value: function toast(_ref) {\n      var text = _ref.text,\n          _ref$href = _ref.href,\n          href = _ref$href === void 0 ? null : _ref$href,\n          _ref$timer = _ref.timer,\n          timer = _ref$timer === void 0 ? 3000 : _ref$timer,\n          _ref$type = _ref.type,\n          type = _ref$type === void 0 ? 'success' : _ref$type;\n      SweetAlertService.init();\n      var target = document.body;\n\n      if (href) {\n        SweetAlertService.anchorTag.href = href;\n        target = SweetAlertService.anchorTag;\n      }\n\n      return new Promise(function (resolve) {\n        if (Toast !== null) {\n          return resolve();\n        }\n\n        import('sweetalert2').then(function (swal) {\n          Toast = swal[\"default\"].mixin({\n            toast: true,\n            position: 'bottom-end',\n            showConfirmButton: false,\n            background: '#1b1b15',\n            customClass: {\n              container: styles['swal--dark']\n            }\n          });\n          resolve();\n        });\n      }).then(function () {\n        Toast.fire({\n          icon: type,\n          title: type === 'error' ? text || 'Oups, something went wrong...' : text,\n          target: target,\n          timer: timer\n        });\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      SweetAlertService.anchorTag = document.createElement('a');\n      document.body.appendChild(SweetAlertService.anchorTag);\n    }\n  }]);\n\n  return SweetAlertService;\n}();\n\n_defineProperty(SweetAlertService, \"anchorTag\", void 0);\n\nexport default SweetAlertService;","map":{"version":3,"sources":["/Users/nmaties/Projects/personal/frontend.ro/frontend-ssr/services/sweet-alert/SweetAlert.service.ts"],"names":["styles","Toast","SweetAlertService","text","href","timer","type","init","target","document","body","anchorTag","Promise","resolve","then","swal","mixin","toast","position","showConfirmButton","background","customClass","container","fire","icon","title","createElement","appendChild"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,0BAAnB;AAEA,IAAIC,KAAK,GAAG,IAAZ;;IASMC,iB;;;;;;;gCAQO;AAAA,UAJTC,IAIS,QAJTA,IAIS;AAAA,2BAHTC,IAGS;AAAA,UAHTA,IAGS,0BAHF,IAGE;AAAA,4BAFTC,KAES;AAAA,UAFTA,KAES,2BAFD,IAEC;AAAA,2BADTC,IACS;AAAA,UADTA,IACS,0BADF,SACE;AACTJ,MAAAA,iBAAiB,CAACK,IAAlB;AAEA,UAAIC,MAAM,GAAGC,QAAQ,CAACC,IAAtB;;AACA,UAAIN,IAAJ,EAAU;AACRF,QAAAA,iBAAiB,CAACS,SAAlB,CAA4BP,IAA5B,GAAmCA,IAAnC;AACAI,QAAAA,MAAM,GAAGN,iBAAiB,CAACS,SAA3B;AACD;;AAED,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9B,YAAIZ,KAAK,KAAK,IAAd,EAAoB;AAClB,iBAAOY,OAAO,EAAd;AACD;;AAED,eAAO,aAAP,EAAsBC,IAAtB,CAA2B,UAACC,IAAD,EAAU;AACnCd,UAAAA,KAAK,GAAGc,IAAI,WAAJ,CAAaC,KAAb,CAAmB;AACzBC,YAAAA,KAAK,EAAE,IADkB;AAEzBC,YAAAA,QAAQ,EAAE,YAFe;AAGzBC,YAAAA,iBAAiB,EAAE,KAHM;AAIzBC,YAAAA,UAAU,EAAE,SAJa;AAKzBC,YAAAA,WAAW,EAAE;AACXC,cAAAA,SAAS,EAAEtB,MAAM,CAAC,YAAD;AADN;AALY,WAAnB,CAAR;AAUAa,UAAAA,OAAO;AACR,SAZD;AAaD,OAlBM,EAkBJC,IAlBI,CAkBC,YAAM;AACZb,QAAAA,KAAK,CAACsB,IAAN,CAAW;AACTC,UAAAA,IAAI,EAAElB,IADG;AAETmB,UAAAA,KAAK,EAAEnB,IAAI,KAAK,OAAT,GAAmBH,IAAI,IAAI,+BAA3B,GAA6DA,IAF3D;AAGTK,UAAAA,MAAM,EAANA,MAHS;AAITH,UAAAA,KAAK,EAALA;AAJS,SAAX;AAMD,OAzBM,CAAP;AA0BD;;;2BAEqB;AACpBH,MAAAA,iBAAiB,CAACS,SAAlB,GAA8BF,QAAQ,CAACiB,aAAT,CAAuB,GAAvB,CAA9B;AACAjB,MAAAA,QAAQ,CAACC,IAAT,CAAciB,WAAd,CAA0BzB,iBAAiB,CAACS,SAA5C;AACD;;;;;;gBAhDGT,iB;;AAmDN,eAAeA,iBAAf","sourcesContent":["import styles from './SweetAlert.module.scss';\n\nlet Toast = null;\n\ninterface ToastI {\n  text: string;\n  href?: string;\n  timer?: number;\n  type?: 'error' | 'success';\n}\n\nclass SweetAlertService {\n  private static anchorTag: HTMLAnchorElement;\n\n  static toast({\n    text,\n    href = null,\n    timer = 3000,\n    type = 'success',\n  }: ToastI) {\n    SweetAlertService.init();\n\n    let target = document.body;\n    if (href) {\n      SweetAlertService.anchorTag.href = href;\n      target = SweetAlertService.anchorTag;\n    }\n\n    return new Promise((resolve) => {\n      if (Toast !== null) {\n        return resolve();\n      }\n\n      import('sweetalert2').then((swal) => {\n        Toast = swal.default.mixin({\n          toast: true,\n          position: 'bottom-end',\n          showConfirmButton: false,\n          background: '#1b1b15',\n          customClass: {\n            container: styles['swal--dark'],\n          },\n        });\n\n        resolve();\n      });\n    }).then(() => {\n      Toast.fire({\n        icon: type,\n        title: type === 'error' ? text || 'Oups, something went wrong...' : text,\n        target,\n        timer,\n      });\n    });\n  }\n\n  private static init() {\n    SweetAlertService.anchorTag = document.createElement('a');\n    document.body.appendChild(SweetAlertService.anchorTag);\n  }\n}\n\nexport default SweetAlertService;\n"]},"metadata":{},"sourceType":"module"}