{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/nmaties/Projects/personal/frontend.ro/frontend-ssr/components/lessons/LessonCover/LessonCover.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport styles from './LessonCover.module.scss'; // TS missed `ResizeObserver` definitions: https://github.com/Microsoft/TypeScript/issues/28502\n\nexport default function LessonCover(_ref) {\n  _s();\n\n  var resizeOffset = _ref.resizeOffset,\n      children = _ref.children;\n  var coverRef = useRef(null);\n  useEffect(function () {\n    if (resizeOffset) {\n      var resizeObserver = new ResizeObserver(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 1),\n            entry = _ref3[0];\n\n        var viewBox = coverRef.current.querySelector('svg').getAttribute('viewBox').split(' ');\n\n        if (entry.contentRect.width < 400) {\n          coverRef.current.querySelector('svg').setAttribute('viewBox', [resizeOffset, viewBox.slice(1)].join(' '));\n        } else {\n          coverRef.current.querySelector('svg').setAttribute('viewBox', [0, viewBox.slice(1)].join(' '));\n        }\n      });\n      resizeObserver.observe(coverRef.current);\n      return function () {\n        return resizeObserver.disconnect();\n      };\n    }\n  }, []);\n  return __jsx(\"figure\", {\n    ref: coverRef,\n    className: styles['lesson-cover'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, children));\n}\n\n_s(LessonCover, \"C7mGsjdFObgw2Ox6Ay58LXHIWls=\");\n\n_c = LessonCover;\n\nvar _c;\n\n$RefreshReg$(_c, \"LessonCover\");","map":{"version":3,"sources":["/Users/nmaties/Projects/personal/frontend.ro/frontend-ssr/components/lessons/LessonCover/LessonCover.tsx"],"names":["React","useEffect","useRef","styles","LessonCover","resizeOffset","children","coverRef","resizeObserver","ResizeObserver","entry","viewBox","current","querySelector","getAttribute","split","contentRect","width","setAttribute","slice","join","observe","disconnect"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAmCC,SAAnC,EAA8CC,MAA9C,QAA4D,OAA5D;AACA,OAAOC,MAAP,MAAmB,2BAAnB,C,CAEA;;AAGA,eAAe,SAASC,WAAT,OAKb;AAAA;;AAAA,MAHEC,YAGF,QAHEA,YAGF;AAAA,MAFEC,QAEF,QAFEA,QAEF;AACA,MAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAD,CAAvB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAII,YAAJ,EAAkB;AAChB,UAAMG,cAAc,GAAG,IAAIC,cAAJ,CAAmB,iBAAa;AAAA;AAAA,YAAXC,KAAW;;AACrD,YAAMC,OAAO,GAAGJ,QAAQ,CAACK,OAAT,CAAiBC,aAAjB,CAA+B,KAA/B,EAAsCC,YAAtC,CAAmD,SAAnD,EAA8DC,KAA9D,CAAoE,GAApE,CAAhB;;AAEA,YAAIL,KAAK,CAACM,WAAN,CAAkBC,KAAlB,GAA0B,GAA9B,EAAmC;AACjCV,UAAAA,QAAQ,CAACK,OAAT,CAAiBC,aAAjB,CAA+B,KAA/B,EAAsCK,YAAtC,CAAmD,SAAnD,EAA8D,CAACb,YAAD,EAAeM,OAAO,CAACQ,KAAR,CAAc,CAAd,CAAf,EAAiCC,IAAjC,CAAsC,GAAtC,CAA9D;AACD,SAFD,MAEO;AACLb,UAAAA,QAAQ,CAACK,OAAT,CAAiBC,aAAjB,CAA+B,KAA/B,EAAsCK,YAAtC,CAAmD,SAAnD,EAA8D,CAAC,CAAD,EAAIP,OAAO,CAACQ,KAAR,CAAc,CAAd,CAAJ,EAAsBC,IAAtB,CAA2B,GAA3B,CAA9D;AACD;AACF,OARsB,CAAvB;AAUAZ,MAAAA,cAAc,CAACa,OAAf,CAAuBd,QAAQ,CAACK,OAAhC;AAEA,aAAO;AAAA,eAAMJ,cAAc,CAACc,UAAf,EAAN;AAAA,OAAP;AACD;AACF,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,SACE;AAAQ,IAAA,GAAG,EAAEf,QAAb;AAAuB,IAAA,SAAS,EAAEJ,MAAM,CAAC,cAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,QADH,CADF,CADF;AAQD;;GAlCuBF,W;;KAAAA,W","sourcesContent":["import React, { PropsWithChildren, useEffect, useRef } from 'react';\nimport styles from './LessonCover.module.scss';\n\n// TS missed `ResizeObserver` definitions: https://github.com/Microsoft/TypeScript/issues/28502\ndeclare let ResizeObserver: any;\n\nexport default function LessonCover(\n  {\n    resizeOffset,\n    children,\n  }: PropsWithChildren<{ resizeOffset?: number }>,\n) {\n  const coverRef = useRef(null);\n\n  useEffect(() => {\n    if (resizeOffset) {\n      const resizeObserver = new ResizeObserver(([entry]) => {\n        const viewBox = coverRef.current.querySelector('svg').getAttribute('viewBox').split(' ');\n\n        if (entry.contentRect.width < 400) {\n          coverRef.current.querySelector('svg').setAttribute('viewBox', [resizeOffset, viewBox.slice(1)].join(' '));\n        } else {\n          coverRef.current.querySelector('svg').setAttribute('viewBox', [0, viewBox.slice(1)].join(' '));\n        }\n      });\n\n      resizeObserver.observe(coverRef.current);\n\n      return () => resizeObserver.disconnect();\n    }\n  }, []);\n\n  return (\n    <figure ref={coverRef} className={styles['lesson-cover']}>\n      <div>\n        {children}\n      </div>\n    </figure>\n\n  );\n}\n"]},"metadata":{},"sourceType":"module"}