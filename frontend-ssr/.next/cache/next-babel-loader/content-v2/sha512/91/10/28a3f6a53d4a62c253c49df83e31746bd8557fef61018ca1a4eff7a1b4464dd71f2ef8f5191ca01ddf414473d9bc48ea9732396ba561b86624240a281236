{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { uuid } from '~/services/Utils';\nimport HttpService from './Http.service';\nvar MOCK_NOTIFICATIONS = [{\n  _id: uuid(),\n  username: 'Diana123',\n  name: 'Diana',\n  avatar: 'https://www.gravatar.com/avatar/9d4d790eb85e56d6524faed8a883d6cb?s=500&d=404',\n  message: 'added a new exercise',\n  timestamp: Date.now(),\n  isUnread: true,\n  url: ''\n}, {\n  _id: uuid(),\n  username: 'AlexPava',\n  name: 'Alex',\n  avatar: 'https://joeschmoe.io/api/v1/josh',\n  message: 'sent you a message',\n  timestamp: Date.now(),\n  isUnread: true,\n  url: ''\n}, {\n  _id: uuid(),\n  username: 'Andrei82',\n  name: 'Andrei',\n  avatar: 'https://joeschmoe.io/api/v1/jon',\n  message: 'added a new exercise',\n  timestamp: Date.now(),\n  isUnread: true,\n  url: ''\n}, {\n  _id: uuid(),\n  username: 'AntoniaBebe',\n  name: 'Antonia',\n  avatar: 'https://joeschmoe.io/api/v1/jess',\n  message: 'sent you a message',\n  timestamp: Date.now(),\n  isUnread: true,\n  url: ''\n}, {\n  _id: uuid(),\n  username: 'Raluca99',\n  name: 'Raluca',\n  avatar: 'https://joeschmoe.io/api/v1/jane',\n  message: 'added a new topic',\n  timestamp: Date.now(),\n  isUnread: true,\n  url: ''\n}];\nvar LOAD_DURATION = 1000;\n\nvar UserService = /*#__PURE__*/function () {\n  function UserService() {\n    _classCallCheck(this, UserService);\n  }\n\n  _createClass(UserService, null, [{\n    key: \"ping\",\n    value: function ping() {\n      return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/users/ping\")).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(_ref) {\n      var name = _ref.name,\n          email = _ref.email;\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/users/subscribe\"), {\n        name: name,\n        email: email\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(_ref2) {\n      var emailOrUsername = _ref2.emailOrUsername,\n          password = _ref2.password;\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/users/login\"), {\n        emailOrUsername: emailOrUsername,\n        password: password\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"checkUsername\",\n    value: function checkUsername(username) {\n      return HttpService.get(\"\".concat(process.env.ENDPOINT, \"/users/username/\").concat(username));\n    }\n  }, {\n    key: \"register\",\n    value: function register(_ref3) {\n      var email = _ref3.email,\n          username = _ref3.username,\n          password = _ref3.password;\n      return HttpService.post(\"\".concat(process.env.ENDPOINT, \"/users/register\"), {\n        email: email,\n        username: username,\n        password: password\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"wait\",\n    value: function wait(mili) {\n      return new Promise(function (resolve) {\n        return setTimeout(resolve, mili);\n      });\n    }\n  }, {\n    key: \"getNotifications\",\n    value: function () {\n      var _getNotifications = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var page,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                page = _args.length > 0 && _args[0] !== undefined ? _args[0] : 0;\n                _context.next = 3;\n                return UserService.wait(LOAD_DURATION);\n\n              case 3:\n                return _context.abrupt(\"return\", MOCK_NOTIFICATIONS);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getNotifications() {\n        return _getNotifications.apply(this, arguments);\n      }\n\n      return getNotifications;\n    }()\n  }, {\n    key: \"markAsRead\",\n    value: function () {\n      var _markAsRead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return UserService.wait(LOAD_DURATION);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function markAsRead(_x) {\n        return _markAsRead.apply(this, arguments);\n      }\n\n      return markAsRead;\n    }()\n  }, {\n    key: \"markAllAsRead\",\n    value: function () {\n      var _markAllAsRead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return UserService.wait(LOAD_DURATION);\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function markAllAsRead() {\n        return _markAllAsRead.apply(this, arguments);\n      }\n\n      return markAllAsRead;\n    }()\n  }]);\n\n  return UserService;\n}();\n\nexport default UserService;","map":{"version":3,"sources":["/Users/nmaties/Projects/personal/frontend.ro/frontend-ssr/services/User.service.ts"],"names":["uuid","HttpService","MOCK_NOTIFICATIONS","_id","username","name","avatar","message","timestamp","Date","now","isUnread","url","LOAD_DURATION","UserService","get","process","env","ENDPOINT","then","resp","json","email","post","emailOrUsername","password","mili","Promise","resolve","setTimeout","page","wait","id"],"mappings":"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","sourcesContent":["import { uuid } from '~/services/Utils';\nimport { Notification } from '../redux/user/types';\nimport HttpService from './Http.service';\n\nconst MOCK_NOTIFICATIONS: Notification[] = [\n  {\n    _id: uuid(),\n    username: 'Diana123',\n    name: 'Diana',\n    avatar:\n      'https://www.gravatar.com/avatar/9d4d790eb85e56d6524faed8a883d6cb?s=500&d=404',\n    message: 'added a new exercise',\n    timestamp: Date.now(),\n    isUnread: true,\n    url: '',\n  },\n  {\n    _id: uuid(),\n    username: 'AlexPava',\n    name: 'Alex',\n    avatar: 'https://joeschmoe.io/api/v1/josh',\n    message: 'sent you a message',\n    timestamp: Date.now(),\n    isUnread: true,\n    url: '',\n  },\n  {\n    _id: uuid(),\n    username: 'Andrei82',\n    name: 'Andrei',\n    avatar: 'https://joeschmoe.io/api/v1/jon',\n    message: 'added a new exercise',\n    timestamp: Date.now(),\n    isUnread: true,\n    url: '',\n  },\n  {\n    _id: uuid(),\n    username: 'AntoniaBebe',\n    name: 'Antonia',\n    avatar: 'https://joeschmoe.io/api/v1/jess',\n    message: 'sent you a message',\n    timestamp: Date.now(),\n    isUnread: true,\n    url: '',\n  },\n  {\n    _id: uuid(),\n    username: 'Raluca99',\n    name: 'Raluca',\n    avatar: 'https://joeschmoe.io/api/v1/jane',\n    message: 'added a new topic',\n    timestamp: Date.now(),\n    isUnread: true,\n    url: '',\n  },\n];\n\nconst LOAD_DURATION = 1000;\n\nclass UserService {\n  static ping() {\n    return HttpService.get(`${process.env.ENDPOINT}/users/ping`).then((resp) => resp.json());\n  }\n\n  static subscribe({ name, email }) {\n    return HttpService\n      .post(`${process.env.ENDPOINT}/users/subscribe`, { name, email })\n      .then((resp) => resp.json());\n  }\n\n  static login({\n    emailOrUsername,\n    password,\n  }: {\n    emailOrUsername: string;\n    password: string;\n  }) {\n    return HttpService.post(`${process.env.ENDPOINT}/users/login`, {\n      emailOrUsername,\n      password,\n    }).then((resp) => resp.json());\n  }\n\n  static checkUsername(username: string) {\n    return HttpService.get(\n      `${process.env.ENDPOINT}/users/username/${username}`,\n    );\n  }\n\n  static register({\n    email,\n    username,\n    password,\n  }: {\n    email: string;\n    username: string;\n    password: string;\n  }) {\n    return HttpService.post(`${process.env.ENDPOINT}/users/register`, {\n      email,\n      username,\n      password,\n    }).then((resp) => resp.json());\n  }\n\n  static wait(mili) {\n    return new Promise((resolve) => setTimeout(resolve, mili));\n  }\n\n  static async getNotifications(page = 0) {\n    await UserService.wait(LOAD_DURATION);\n    return MOCK_NOTIFICATIONS;\n  }\n\n  static async markAsRead(id) {\n    await UserService.wait(LOAD_DURATION);\n  }\n\n  static async markAllAsRead() {\n    await UserService.wait(LOAD_DURATION);\n  }\n}\n\nexport default UserService;\n"]},"metadata":{},"sourceType":"module"}