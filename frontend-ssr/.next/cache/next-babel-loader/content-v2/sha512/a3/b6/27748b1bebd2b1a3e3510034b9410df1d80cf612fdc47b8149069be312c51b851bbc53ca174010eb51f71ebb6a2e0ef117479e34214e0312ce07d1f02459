{"ast":null,"code":"import { useEffect } from 'react';\nimport ClientMonitoring, { LogEventType } from './ClientMonitoring';\nimport SweetAlertService from './sweet-alert/SweetAlert.service';\nimport { noop } from './Utils';\n\nfunction useOutsideClick(ref, handler) {\n  useEffect(() => {\n    const listener = event => {\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n}\n\nfunction useClipboard(ref, onCopy = noop) {\n  const initClipboard = ClipboardJS => {\n    let clipboard = new ClipboardJS(ref.current);\n    clipboard.on('success', e => {\n      e.clearSelection();\n      SweetAlertService.toast({\n        text: 'Successfully copied to clipboard.'\n      });\n      onCopy();\n    });\n    clipboard.on('error', () => {\n      SweetAlertService.toast({\n        type: 'error',\n        text: \"Seems like your browser doesn't support clipboard copying. You have to copy it manually...\"\n      });\n    });\n  };\n\n  useEffect(() => {\n    import('clipboard').then(module => {\n      initClipboard(module.default);\n    });\n  }, []);\n}\n\nfunction withClientMonitoring() {\n  useEffect(() => {\n    // eslint-disable-next-line no-restricted-globals\n    if (!location.host.includes('frontend.ro')) {\n      return;\n    }\n\n    ClientMonitoring.log(LogEventType.ROUTE);\n    window.addEventListener('beforeunload', ClientMonitoring.destroy);\n  }, []);\n}\n\nfunction withSmoothScroll(ref) {\n  useEffect(() => {\n    ref.current.style.scrollBehavior = 'smooth';\n    return () => {\n      ref.current.style.scrollBehavior = 'initial';\n    };\n  }, []);\n}\n\nexport { useOutsideClick, useClipboard, withClientMonitoring, withSmoothScroll };","map":{"version":3,"sources":["/Users/nmaties/Projects/personal/frontend.ro/frontend-ssr/services/Hooks.ts"],"names":["useEffect","ClientMonitoring","LogEventType","SweetAlertService","noop","useOutsideClick","ref","handler","listener","event","current","contains","target","document","addEventListener","removeEventListener","useClipboard","onCopy","initClipboard","ClipboardJS","clipboard","on","e","clearSelection","toast","text","type","then","module","default","withClientMonitoring","location","host","includes","log","ROUTE","window","destroy","withSmoothScroll","style","scrollBehavior"],"mappings":"AAAA,SAA2BA,SAA3B,QAA4C,OAA5C;AACA,OAAOC,gBAAP,IAA2BC,YAA3B,QAA+C,oBAA/C;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,SAASC,IAAT,QAAqB,SAArB;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA6DC,OAA7D,EAA+F;AAC7FP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,QAAQ,GAAIC,KAAD,IAAW;AAC1B,UAAI,CAACH,GAAG,CAACI,OAAL,IAAgBJ,GAAG,CAACI,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;AACtD;AACD;;AAEDL,MAAAA,OAAO,CAACE,KAAD,CAAP;AACD,KAND;;AAQAI,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCN,QAAvC;AACAK,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCN,QAAxC;AAEA,WAAO,MAAM;AACXK,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CP,QAA1C;AACAK,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CP,QAA3C;AACD,KAHD;AAID,GAhBQ,EAgBN,CAACF,GAAD,EAAMC,OAAN,CAhBM,CAAT;AAiBD;;AAED,SAASS,YAAT,CAAsBV,GAAtB,EAA0DW,MAAkB,GAAGb,IAA/E,EAAqF;AACnF,QAAMc,aAAa,GAAIC,WAAD,IAAiB;AACrC,QAAIC,SAAS,GAAG,IAAID,WAAJ,CAAgBb,GAAG,CAACI,OAApB,CAAhB;AAEAU,IAAAA,SAAS,CAACC,EAAV,CAAa,SAAb,EAAyBC,CAAD,IAAO;AAC7BA,MAAAA,CAAC,CAACC,cAAF;AAEApB,MAAAA,iBAAiB,CAACqB,KAAlB,CAAwB;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAxB;AACAR,MAAAA,MAAM;AACP,KALD;AAOAG,IAAAA,SAAS,CAACC,EAAV,CAAa,OAAb,EAAsB,MAAM;AAC1BlB,MAAAA,iBAAiB,CAACqB,KAAlB,CAAwB;AAAEE,QAAAA,IAAI,EAAE,OAAR;AAAiBD,QAAAA,IAAI,EAAE;AAAvB,OAAxB;AACD,KAFD;AAGD,GAbD;;AAeAzB,EAAAA,SAAS,CAAC,MAAM;AACd,WAAO,WAAP,EAAoB2B,IAApB,CAA0BC,MAAD,IAAY;AACnCV,MAAAA,aAAa,CAACU,MAAM,CAACC,OAAR,CAAb;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKD;;AAED,SAASC,oBAAT,GAAgC;AAC9B9B,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAI,CAAC+B,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuB,aAAvB,CAAL,EAA4C;AAC1C;AACD;;AACDhC,IAAAA,gBAAgB,CAACiC,GAAjB,CAAqBhC,YAAY,CAACiC,KAAlC;AAEAC,IAAAA,MAAM,CAACtB,gBAAP,CAAwB,cAAxB,EAAwCb,gBAAgB,CAACoC,OAAzD;AACD,GARQ,EAQN,EARM,CAAT;AASD;;AAED,SAASC,gBAAT,CAA0BhC,GAA1B,EAAoE;AAClEN,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,GAAG,CAACI,OAAJ,CAAY6B,KAAZ,CAAkBC,cAAlB,GAAmC,QAAnC;AACA,WAAO,MAAM;AACXlC,MAAAA,GAAG,CAACI,OAAJ,CAAY6B,KAAZ,CAAkBC,cAAlB,GAAmC,SAAnC;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;AAMD;;AAED,SACEnC,eADF,EAEEW,YAFF,EAGEc,oBAHF,EAIEQ,gBAJF","sourcesContent":["import { MutableRefObject, useEffect } from 'react';\nimport ClientMonitoring, { LogEventType } from './ClientMonitoring';\nimport SweetAlertService from './sweet-alert/SweetAlert.service';\nimport { noop } from './Utils';\n\nfunction useOutsideClick(ref: MutableRefObject<HTMLElement>, handler: (e: MouseEvent) => void) {\n  useEffect(() => {\n    const listener = (event) => {\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n}\n\nfunction useClipboard(ref: MutableRefObject<HTMLElement>, onCopy: () => void = noop) {\n  const initClipboard = (ClipboardJS) => {\n    let clipboard = new ClipboardJS(ref.current);\n\n    clipboard.on('success', (e) => {\n      e.clearSelection();\n\n      SweetAlertService.toast({ text: 'Successfully copied to clipboard.' });\n      onCopy();\n    });\n\n    clipboard.on('error', () => {\n      SweetAlertService.toast({ type: 'error', text: \"Seems like your browser doesn't support clipboard copying. You have to copy it manually...\" });\n    });\n  };\n\n  useEffect(() => {\n    import('clipboard').then((module) => {\n      initClipboard(module.default);\n    });\n  }, []);\n}\n\nfunction withClientMonitoring() {\n  useEffect(() => {\n    // eslint-disable-next-line no-restricted-globals\n    if (!location.host.includes('frontend.ro')) {\n      return;\n    }\n    ClientMonitoring.log(LogEventType.ROUTE);\n\n    window.addEventListener('beforeunload', ClientMonitoring.destroy);\n  }, []);\n}\n\nfunction withSmoothScroll(ref: React.MutableRefObject<HTMLElement>) {\n  useEffect(() => {\n    ref.current.style.scrollBehavior = 'smooth';\n    return () => {\n      ref.current.style.scrollBehavior = 'initial';\n    };\n  }, []);\n}\n\nexport {\n  useOutsideClick,\n  useClipboard,\n  withClientMonitoring,\n  withSmoothScroll,\n};\n"]},"metadata":{},"sourceType":"module"}