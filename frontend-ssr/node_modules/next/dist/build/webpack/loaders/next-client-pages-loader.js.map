{"version":3,"sources":["../../../../build/webpack/loaders/next-client-pages-loader.ts"],"names":["nextClientPagesLoader","span","tracer","startSpan","absolutePagePath","page","loaderUtils","getOptions","setAttribute","stringifiedAbsolutePagePath","JSON","stringify","stringifiedPage"],"mappings":"4DACA,iEACA,oC,mFAOA,KAAMA,CAAAA,qBAAoC,CAAG,UAAY,CACvD,KAAMC,CAAAA,IAAI,CAAGC,eAAOC,SAAP,CAAiB,0BAAjB,CAAb,CACA,MAAO,oBAAQF,IAAR,CAAc,IAAM,CACzB,KAAM,CAAEG,gBAAF,CAAoBC,IAApB,EAA6BC,qBAAYC,UAAZ,CACjC,IADiC,CAAnC,CAIAN,IAAI,CAACO,YAAL,CAAkB,kBAAlB,CAAsCJ,gBAAtC,EAEA,KAAMK,CAAAA,2BAA2B,CAAGC,IAAI,CAACC,SAAL,CAAeP,gBAAf,CAApC,CACA,KAAMQ,CAAAA,eAAe,CAAGF,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAxB,CAEA,MAAQ;AACZ;AACA,UAAUO,eAAgB;AAC1B;AACA,2BAA2BH,2BAA4B;AACvD;AACA;AACA,KAPI,CAQD,CAlBM,CAAP,CAmBD,CArBD,C,aAuBeT,qB","sourcesContent":["import { loader } from 'webpack'\nimport loaderUtils from 'loader-utils'\nimport { tracer, traceFn } from '../../tracer'\n\nexport type ClientPagesLoaderOptions = {\n  absolutePagePath: string\n  page: string\n}\n\nconst nextClientPagesLoader: loader.Loader = function () {\n  const span = tracer.startSpan('next-client-pages-loader')\n  return traceFn(span, () => {\n    const { absolutePagePath, page } = loaderUtils.getOptions(\n      this\n    ) as ClientPagesLoaderOptions\n\n    span.setAttribute('absolutePagePath', absolutePagePath)\n\n    const stringifiedAbsolutePagePath = JSON.stringify(absolutePagePath)\n    const stringifiedPage = JSON.stringify(page)\n\n    return `\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        ${stringifiedPage},\n        function () {\n          return require(${stringifiedAbsolutePagePath});\n        }\n      ]);\n    `\n  })\n}\n\nexport default nextClientPagesLoader\n"]}