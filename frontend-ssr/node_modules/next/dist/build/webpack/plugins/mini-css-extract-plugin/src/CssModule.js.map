{"version":3,"sources":["../../../../../../build/webpack/plugins/mini-css-extract-plugin/src/CssModule.js"],"names":["CssModule","webpack","Module","constructor","dependency","context","id","_identifier","identifier","_identifierIndex","identifierIndex","content","media","sourceMap","size","length","readableIdentifier","requestShortener","shorten","nameForCondition","resource","split","pop","idx","indexOf","substring","updateCacheModule","module","needRebuild","build","options","compilation","resolver","fileSystem","callback","buildInfo","buildMeta","updateHash","hash","update","JSON","stringify","isWebpack5","parseInt","version","util","serialization","register","serialize","obj","write","deserialize","read"],"mappings":"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","sourcesContent":["import webpack from 'webpack'\n\nclass CssModule extends webpack.Module {\n  constructor(dependency) {\n    super('css/mini-extract', dependency.context)\n    this.id = ''\n    this._identifier = dependency.identifier\n    this._identifierIndex = dependency.identifierIndex\n    this.content = dependency.content\n    this.media = dependency.media\n    this.sourceMap = dependency.sourceMap\n  } // no source() so webpack doesn't do add stuff to the bundle\n\n  size() {\n    return this.content.length\n  }\n\n  identifier() {\n    return `css ${this._identifier} ${this._identifierIndex}`\n  }\n\n  readableIdentifier(requestShortener) {\n    return `css ${requestShortener.shorten(this._identifier)}${\n      this._identifierIndex ? ` (${this._identifierIndex})` : ''\n    }`\n  }\n\n  nameForCondition() {\n    const resource = this._identifier.split('!').pop()\n\n    const idx = resource.indexOf('?')\n\n    if (idx >= 0) {\n      return resource.substring(0, idx)\n    }\n\n    return resource\n  }\n\n  updateCacheModule(module) {\n    this.content = module.content\n    this.media = module.media\n    this.sourceMap = module.sourceMap\n  }\n\n  needRebuild() {\n    return true\n  }\n\n  build(options, compilation, resolver, fileSystem, callback) {\n    this.buildInfo = {}\n    this.buildMeta = {}\n    callback()\n  }\n\n  updateHash(hash, context) {\n    super.updateHash(hash, context)\n    hash.update(this.content)\n    hash.update(this.media || '')\n    hash.update(this.sourceMap ? JSON.stringify(this.sourceMap) : '')\n  }\n}\n\nconst isWebpack5 = parseInt(webpack.version) === 5\n\nif (isWebpack5) {\n  // @ts-ignore TODO: remove ts-ignore when webpack 5 is stable\n  webpack.util.serialization.register(\n    CssModule,\n    'next/dist/build/webpack/plugins/mini-css-extract-plugin/src/CssModule',\n    null,\n    {\n      serialize(obj, { write }) {\n        write(obj.context)\n        write(obj._identifier)\n        write(obj._identifierIndex)\n        write(obj.content)\n        write(obj.media)\n        write(obj.sourceMap)\n      },\n      deserialize({ read }) {\n        const obj = new CssModule({\n          context: read(),\n          identifier: read(),\n          identifierIndex: read(),\n          content: read(),\n          media: read(),\n          sourceMap: read(),\n        })\n\n        return obj\n      },\n    }\n  )\n}\n\nexport default CssModule\n"]}